<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Atlas Booking</title>
</head>
<style>
    *{
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        outline: none;

    }

    body{
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        overflow: hidden;
        background: url("https://estaticos.muyinteresante.es/uploads/images/gallery/6005efea5bafe87051f16c23/1-Venecia.jpg");
        background-size: cover;
        background-position: center;
    }

    .mainbox{
        position: relative;
        width: 500px;
        height: 500px;
        margin-top: 50px;
    }

    .mainbox:after{
        position: absolute;
        content: "";
        width: 100%;
        height: 100%;
        background: url("https://thypix.com/wp-content/uploads/2020/04/white-arrow-99-700x471.png") no-repeat;
        background-size: 15%;
        left: 93%;
        top: 43%;
        transform: rotate(0deg);


    }
    .box{
        width: 100%;
        height: 100%;
        display: inline-block;
        position: relative;
        border-radius: 50%;
        border: 10px solid gray;
        overflow: hidden;
        transition: all ease-in-out 5s;
        transform: rotate(90deg);
        box-shadow: 0 5px 30px #ffffff;
    }

    span{
        width: 100%;
        height: 100%;
        display: inline-block;
        position: absolute;
    }

    .span1{
        clip-path: polygon(0 17%,0 50%,50% 50%);
        background-color: green;
    }
    .span2{
        clip-path: polygon(0 17%,30% 0,50% 50%);
        background-color: red;
    }

    .span3{
        clip-path: polygon(30% 0,71% 0,50% 50%);
        background-color: blue;
    }


    .span4{
        clip-path: polygon(71% 0,100% 18%,50% 50%);
        background-color: salmon;
    }

    .span5{
        clip-path: polygon(100% 18%,100% 50%,50% 50%);
        background-color: #ff8300;
    }
    .box2 .span3{
        background-color: #00ff04;
    }
    .box2 {
       width: 100%;
        height: 100%;
        transform: rotate(180deg);
    }
    .box2 .span1{
        background: #333;
    }
    .font{
        color: #fff;
        font-size: 20px;
    }

    .box1 .span1 h5{
        position: absolute;
        top: 42%;
        right: 63%;
        transform: rotate(200deg);
        text-align: center;
    }

    .box1 .span2 h5{
        position: absolute;
        top: 33%;
        right: 57%;
        transform: rotate(-130deg);
        text-align: center;
    }

    .box1 .span3 h5{
        position: absolute;
        top: 28%;
        right: 45%;
        transform: rotate(-90deg);
        text-align: center;
    }

    .box1 .span4 h5{
        position: absolute;
        top: 34%;
        right: 32%;
        transform: rotate(-45deg);
        text-align: center;
    }

    .box1 .span5 h5{
        position: absolute;
        top: 43%;
        right: 26%;
        transform: rotate(-15deg);
        text-align: center;
    }

    .box2 .span1 h5{

        position: absolute;
        top: 42%;
        right: 63%;
        transform: rotate(200deg);
        text-align: center;
    }

    .box2 .span2 h5{
        position: absolute;
        top: 33%;
        right: 57%;
        transform: rotate(-130deg);
        text-align: center;
    }

    .box2 .span3 h5{
        position: absolute;
        top: 28%;
        right: 45%;
        transform: rotate(-279deg);
        text-align: center;
    }

    .box2 .span4 h5{
        position: absolute;
        top: 34%;
        right: 32%;
        transform: rotate(310deg);
        text-align: center;
    }

    .box2 .span5 h5{
        position: absolute;
        top: 43%;
        right: 26%;
        transform: rotate(-20deg);
        text-align: center;
    }

    .spin{
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width:75px;
        height: 75px;
        border-radius: 50%;
        border: 4px solid white;
        background: #1D76E5;
        color: #fff;
        box-shadow: 0 5px 20px #000;
        font-weight: bold;
        font-size: 22px;
        cursor: pointer;
        z-index: 1000;
    }

    .spin:active{
        width: 70px;
        height: 70px;
        font-size: 20px;
    }

    .mainbox.animate:after{
        animation:animateArrow 0.7s ease infinite;
    }

    audio{
        display: none;
    }

    @keyframes animateArrow {
        50%{
            right: -50px;
        }

    }

</style>
<body>
<div class="mainbox" id="mainbox">
    <div class="box" id="box">
        <div class="box1">
            <span class="font span1"><h5>cupon 1</h5></span>
            <span class="font span2"><h5>cupon 2</h5></span>
            <span class="font span3"><h5>cupon 3</h5></span>
            <span class="font span4"><h5>cupon 4</h5></span>
            <span class="font span5"><h5>cupon 5</h5></span>
        </div>
        <div class="box2">
            <span class="font span1"><h5>cupon 6</h5></span>
            <span class="font span2"><h5>cupon 7</h5></span>
            <span class="font span3"><h5>cupon 8</h5></span>
            <span class="font span4"><h5>cupon 9</h5></span>
            <span class="font span5"><h5>cupon 10</h5></span>
        </div>
    </div>
    <button class="spin" onclick="spin()">GIRA</button>
</div>
<audio
controls="controls"
id="wheel"
src="/static/audio/ruleta.mp3">
</audio>
<script>
    function shuffle(array){
        var currentIndex = array.length,
        randomIndex;

    while (0 !== currentIndex){
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex--;
        [array[currentIndex], array[randomIndex]] = [
            array[currentIndex],
            array[currentIndex],
        ];
    }
    return array;
}

function spin(){
        wheel.play();
        const box = document.getElementById("box");
        const element = document.getElementById("mainbox");
        let SelectItem = "";

        let AC = shuffle([1890, 2250, 2610]);
        let Camera = shuffle([1850, 2210, 2570]) ;
        let Zonk= shuffle([1770, 2130, 2490]);
        let PS = shuffle([1810, 2170, 2530])
        let Headset = shuffle ( [1750, 2110, 2470]) ;
        let Drone = shuffle ([1630, 1990, 2350]);
        let ROG = shuffle([1570, 1930, 2290]) ;

        let results = shuffle([
            AC[0],
            Camera[0],
            Zonk[0],
            PS[0],
            Headset[0],
            Drone[0],
            ROG[0],
        ]);

    if(AC.includes(results[0])) SelectedItem = "1";
    if(Camera.includes(results[0])) SelectedItem = "2";
    if(Zonk.includes(results[0])) SelectedItem = "bomb";
    if(PS.includes(results[0])) SelectedItem = "3";
    if(Headset.includes(results[0])) SelectedItem = "4";
    if(Drone.includes(results[0])) SelectedItem = "5";
    if(ROG.includes(results[0])) SelectedItem = "6";

    box.style.setProperty("transition","all ease 10s");
    box.style.transform = "rotate(" + results[0] + "deg)";
    element.classList.remove("animate");
    setTimeout(function (){
        element.classList.add("animate");
    }, 10000);

    setTimeout(function(){

    })

    setTimeout(function (){
        box.style.setProperty("transition", "initial");
        box.style.transform = "rotate(90deg)";
    }, 11000);
}
</script>


</body>
</html>